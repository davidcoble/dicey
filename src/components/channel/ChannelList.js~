import React from 'react';
import { connect } from 'react-redux';
import ChannelDetail from './ChannelDetail';
import selectChat from '../../selectors/chat';

const ChatList = (props) => (
    <div>
        <div>
            {
                props.chats.length === 0 ? (
                    <div>No Chats</div>
                ) : (
                    props.chats.map((chat) => {
                        return <ChatDetail key={chat.id} {...chat} />
                    })
                )
            }
        </div>
    </div>
);
const mapStateToProps = (state) => {
    console.log("mapStateToProps state.chat = " + JSON.stringify(state));
    console.log("mapStateToProps filters = " + JSON.stringify(state.filters));
    return {
        chats: selectChat(state.chat, state.filters)
    };
};

export default connect(mapStateToProps)(ChatList);
